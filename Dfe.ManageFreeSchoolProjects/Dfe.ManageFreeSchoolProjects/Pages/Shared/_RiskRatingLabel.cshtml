@using Dfe.ManageFreeSchoolProjects.API.Contracts.Project.Risk
@using Dfe.ManageFreeSchoolProjects.Pages.Project.Risk;
@using Dfe.ManageFreeSchoolProjects.TagHelpers
@model RiskRatingLabelViewModel

@{
    var riskRatingLabels = RiskRatingLabelBuilder.Build();

    var match = riskRatingLabels.FirstOrDefault(x => x.RiskRating == Model.RiskRating);
}

@if (match != null && match.Tags != null)
{
    @* Use structured Tags to avoid XSS risks instead of Html.Raw() *@
    @foreach (var tag in match.Tags)
    {
        <strong class="govuk-tag @tag.CssClass">@tag.Text</strong>
        @if (tag != match.Tags.Last())
        {
            @:&nbsp;
        }
    }
}
else
{
    <span class="empty">Empty</span>
}