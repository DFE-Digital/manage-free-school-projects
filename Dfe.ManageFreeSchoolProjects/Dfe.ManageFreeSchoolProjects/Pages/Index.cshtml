@page
@using Dfe.BuildFreeSchools.Pages;
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="dfe-content-page--header">
    <div class="dfe-width-container ">
        <div class="govuk-grid-row ">
            <div class="govuk-grid-column-three-quarters">
            </div>
        </div>
        <div class="govuk-grid-row govuk-!-padding-top-9 govuk-!-padding-bottom-0">
            <div class="govuk-grid-column-three-quarters">
                <h1 class="govuk-heading-xl govuk-!-margin-bottom-4">Your free school projects</h1>
            </div>
        </div>
        <div class="govuk-grid-row govuk-!-padding-top-0 govuk-!-padding-bottom-7">
            <div class="govuk-grid-column-full">
            </div>
        </div>
        <table class="govuk-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row tr__large">
                    <th class="govuk-table__header govuk-table__cell__cases" scope="col">
                        Project title
                    </th>
                    <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                        Project ID
                    </th>
                    <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                        Trust
                    </th>
                    <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                        Region
                    </th>
                    <th class="govuk-table__header govuk-table__cell__cases" scope="col">
                        Local authority
                    </th>
                    <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                        Realistic opening date
                    </th>
                    <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                        Status
                    </th>
                    <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                        Action
                    </th>
                </tr>
            </thead>
            <tbody class="govuk-table__body">
                @if (Model.Projects == null || Model.Projects.Length == 0)
                {
                    <tr class="govuk-table__row tr__large">
                        <td class="govuk-table__cell__cases govuk-oneline-row">
                            <span>There are no projects available.</span>
                        </td>
                    </tr>
                }
                else
                {
                    foreach (var project in Model.Projects)
                    {
                        <tr class="govuk-table__row tr__large" data-testid="row-@project.ProjectId">
                            <td class="govuk-table__cell" data-testid="project-title">
                                @project.SchoolName
                            </td>
                            <td class="govuk-table__cell" data-testid="project-id">
                                @project.ProjectId
                            </td>
                            <td class="govuk-table__cell" data-testid="trust-name">
                                @($"{project.ProjectId} trust")
                            </td>
                            <td class="govuk-table__cell" data-testid="region-name">
                                @($"{project.ProjectId} region")
                            </td>
                            <td class="govuk-table__cell" data-testid="local-authority">
                                @($"{project.ProjectId} council")
                            </td>
                            <td class="govuk-table__cell" data-testid="realistic-opening-date">
                                1 September 2024
                            </td>
                            <td class="govuk-table__cell" data-testid="status">
                                <strong class="govuk-tag govuk-tag--grey">Not started</strong>
                            </td>
                            <td class="govuk-table__cell" data-testid="action">
                                View
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>