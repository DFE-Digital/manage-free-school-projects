@page "/projects/{projectId}/risk-rating/summary"
@using Dfe.ManageFreeSchoolProjects.TagHelpers;
@using Dfe.ManageFreeSchoolProjects.Pages.Project.Risk;
@model RiskSummaryModel
@{
}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

        <h1 class="govuk-heading-xl">
            <span class="govuk-caption-l">St Marys Catholic Academy</span>
            21 March 2023 - current risk ratings
        </h1>

        <dl class="govuk-summary-list">

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Overall risk rating
                </dt>
                <dd class="govuk-summary-list__value">
                    <govuk-risk-rating-label risk-rating="@Model.ProjectRisk.Overall.RiskRating" />
                </dd>

            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Overall risk summary
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.ProjectRisk.Overall.Summary
                </dd>
            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Governance and suitability risk rating
                </dt>
                <dd class="govuk-summary-list__value">
                    <govuk-risk-rating-label risk-rating="@Model.ProjectRisk.GovernanceAndSuitability.RiskRating" />
                </dd>

            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Governance and suitability risk summary
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.ProjectRisk.GovernanceAndSuitability.Summary
                </dd>

            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Education risk rating
                </dt>
                <dd class="govuk-summary-list__value">
                    <govuk-risk-rating-label risk-rating="@Model.ProjectRisk.Education.RiskRating" />
                </dd>

            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Education risk summary
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.ProjectRisk.Education.Summary
                </dd>

            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Finances risk rating
                </dt>
                <dd class="govuk-summary-list__value">
                    <govuk-risk-rating-label risk-rating="@Model.ProjectRisk.Finance.RiskRating" />
                </dd>

            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    Finances risk summary
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.ProjectRisk.Finance.Summary
                </dd>

            </div>

            <div class="govuk-summary-list__row">
                <dt class="govuk-summary-list__key">
                    RAF (risk appraisal form) SharePoint link
                </dt>
                <dd class="govuk-summary-list__value">
                    @Model.ProjectRisk.RiskAppraisalFormSharepointLink
                </dd>

            </div>
        </dl>

        <a class="govuk-button" data-module="govuk-button" href="/projects/@Model.ProjectId/risk-rating/governance-and-suitability/add">
            Add a risk rating entry
        </a>
    </div>
</div>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <table class="govuk-table">

            <caption class="govuk-table__caption govuk-table__caption--m">Risk ratings history</caption>
            <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th scope="col" class="govuk-table__header app-custom-class">Date</th>
                    <th scope="col" class="govuk-table__header app-custom-class">Overall risk rating</th>
                    <th scope="col" class="govuk-table__header app-custom-class">Action</th>
                </tr>
            </thead>

            <tbody class="govuk-table__body">

                @foreach (var historyEntry in Model.ProjectRisk.History)
                {
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@historyEntry.Date</td>
                        <td class="govuk-table__cell"><govuk-risk-rating-label risk-rating="@historyEntry.RiskRating" /></td>
                        <td class="govuk-table__cell"></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>