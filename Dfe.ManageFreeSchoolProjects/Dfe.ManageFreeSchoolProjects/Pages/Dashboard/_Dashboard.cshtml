@model Dfe.ManageFreeSchoolProjects.Pages.Dashboard.DashboardModel;

<table class="govuk-table">
    <thead class="govuk-table__head">
        <tr class="govuk-table__row tr__large">
            <th class="govuk-table__header govuk-table__cell__cases" scope="col">
                Project title
            </th>
            <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                Project ID
            </th>
            <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                Trust
            </th>
            <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                Region
            </th>
            <th class="govuk-table__header govuk-table__cell__cases" scope="col">
                Local authority
            </th>
            <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                Realistic opening date
            </th>
            <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                Status
            </th>
            <th class="govuk-table__header govuk-table__cell__cases govuk-table__header__width_14" scope="col" aria-sort="none">
                Action
            </th>
        </tr>
    </thead>
    <tbody class="govuk-table__body">
        @if (Model.Projects == null || Model.Projects.Count == 0)
        {
            <tr class="govuk-table__row tr__large">
                <td class="govuk-table__cell__cases govuk-oneline-row">
                    <span>There are no projects available.</span>
                </td>
            </tr>
        }
        else
        {
            foreach (var project in Model.Projects)
            {
                <tr class="govuk-table__row tr__large" data-testid="row-@project.ProjectId">
                    <td class="govuk-table__cell" data-testid="project-title">
                        @project.ProjectTitle
                    </td>
                    <td class="govuk-table__cell" data-testid="project-id">
                        @project.ProjectId
                    </td>
                    <td class="govuk-table__cell" data-testid="trust-name">
                        @project.TrustName
                    </td>
                    <td class="govuk-table__cell" data-testid="region-name">
                        @project.Region
                    </td>
                    <td class="govuk-table__cell" data-testid="local-authority">
                        @project.LocalAuthority
                    </td>
                    <td class="govuk-table__cell" data-testid="realistic-opening-date">
                        @project.RealisticOpeningDate
                    </td>
                    <td class="govuk-table__cell" data-testid="status">
                        <strong class="govuk-tag govuk-tag--grey">Not started</strong>
                    </td>
                    <td class="govuk-table__cell">
                        <a href="/projects/@project.ProjectId/overview" data-testid="action">View</a>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>